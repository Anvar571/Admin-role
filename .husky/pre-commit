#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "Running pre-commit checks..."

# Run linting
pnpm run lint

# Run tests
pnpm run test

# Check staged changes
CHANGES=$(git diff --staged --name-only)

# Run additional checks, e.g., formatting

# If any checks fail, prevent the commit
if [ $? -ne 0 ]; then
  echo "Pre-commit checks failed. Aborting commit."
  exit 1
fi

echo "Pre-commit checks passed. You can commit now."